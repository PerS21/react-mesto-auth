{"version":3,"sources":["images/VectorLogo.svg","components/Header.jsx","images/Pencil.svg","images/Plus.svg","contexts/CurrentUserContext.js","components/Card.jsx","contexts/IsLoginContext.js","components/Main.jsx","components/Footer.jsx","components/ImagePopup.jsx","components/PopupWithForm.jsx","components/EditProfilePopup.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/ProtectedRoute.jsx","components/SingForm.jsx","components/Login.jsx","components/InfoTooltip.jsx","images/GoodReg.png","components/Register.jsx","utils/api.js","utils/singApi.js","components/App.jsx","reportWebVitals.js","index.js"],"names":["Header","props","history","useHistory","className","src","vectorLogo","alt","onClick","push","path","href","localStorage","getItem","removeItem","setisLoggedIn","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","type","handleCardLike","length","handleCardDelete","IsLoginContext","Main","onEditAvatar","avatar","pencil","onEditProfile","about","onAddPlace","addPlace","cards","map","setCards","Footer","currentYear","Date","getFullYear","ImagePopup","onClose","PopupWithForm","isOpen","onSubmit","title","children","submitButtonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","id","required","minLength","maxLength","placeholder","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","fildPlace","setFildPlace","fildImg","setFildImg","onAddCard","ProtectedRoute","commponent","to","SingForm","formName","Login","mail","setMail","password","setPassword","onLogin","InfoTooltip","Register","onRegisration","api","baseUrl","token","this","_baseUrl","_token","_headers","authorization","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","user","method","body","JSON","stringify","cardId","like","putLike","deleteLike","singApi","email","jwt","App","isLoggedIn","setIsLoggedIn","isLoading","setisLoading","cohort","setСurrentUser","getUser","catch","error","console","log","selectedCard","setSelectedCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","closeAllPopups","getCards","check","er","finally","Provider","signUp","setItem","data","signIn","deleteCard","filter","changeLikeCardStatus","newCard","state","c","patchUserInfo","patchUserImg","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.98eba703.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/VectorLogo.bbe2a6ea.svg\";","import vectorLogo from \"../../src/images/VectorLogo.svg\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\n\r\n\r\nfunction Header(props) {\r\n  const history = useHistory();\r\n  function click() {\r\n    history.push('/')\r\n  }\r\n\r\n  function onClick() {\r\n    localStorage.removeItem('jwt');\r\n    props.setisLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={vectorLogo} alt=\"место\" className=\"header__img\" onClick={click} />\r\n      <Switch>\r\n        <Route path=\"/sign-up\">\r\n          <a href='sign-in' className='header__Link header__text'>Войти</a>\r\n        </Route>\r\n        <Route path=\"/sign-in\">\r\n          <a href='sign-up' className='header__Link header__text'>Регистрация</a>\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <div className='header__auth-section'>\r\n            <p className='header__text'>{localStorage.getItem('email')}</p>\r\n            <button className='header__text header__button' onClick={onClick}>Выйти</button>\r\n          </div>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/Pencil.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/Plus.bed8c136.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `element__trash card__delete-button button ${isOwn ? 'element__trash_visible' : 'element__trash_hidden'}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = (\r\n        `element__heart ${isLiked ? 'element__heart_active' : 'element__heart_notActive'}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleClickDelte() {\r\n        props.handleCardDelete(props.card);\r\n    }\r\n\r\n    function handleCardLike() {\r\n        props.handleCardLike(props.card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <img src={props.card.link} alt={props.card.name} className=\"element__img\" onClick={handleClick} />\r\n            <div className=\"element__info\">\r\n                <h2 className=\"element__text\">{props.card.name}</h2>\r\n                <div>\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleCardLike}></button>\r\n                    <p className=\"element__heart-quantity\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleClickDelte}></button>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nexport const IsLoginContext = React.createContext();","import pencil from \"../../src/images/Pencil.svg\";\r\nimport addPlace from \"../../src/images/Plus.svg\";\r\nimport React from 'react';\r\nimport Card from './Card.jsx';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { IsLoginContext } from '../contexts/IsLoginContext';\r\n\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);  \r\n  const isLoggetIn = React.useContext(IsLoginContext);  \r\n\r\n  return (\r\n    isLoggetIn &&\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__profile-info\">\r\n          <button className=\"profile__avatar\" onClick={props.onEditAvatar}>\r\n            <img src={currentUser.avatar} alt=\"аватар\" className=\"profile__avatar-img\" />\r\n            <div className=\"profile__avatar-edit\">\r\n              <img\r\n                className=\"profile__avatar-edit-icon\"\r\n                src={pencil}\r\n                alt=\"Изменить\"\r\n              />\r\n            </div>\r\n          </button>\r\n          <div className=\"profile__text\">\r\n            <div className=\"profile__name-line\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                type=\"button\"\r\n                className=\"profile__edit-button button\"\r\n                onClick={props.onEditProfile}\r\n              >\r\n                <img src={pencil} alt=\"Изменить\" />\r\n              </button>\r\n            </div>\r\n            <p className=\"profile__prof\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button button\"\r\n          onClick={props.onAddPlace}\r\n        >\r\n          <img src={addPlace} alt=\"Добавить\" />\r\n        </button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((card) => {\r\n            return (\r\n              <Card card={card} setCards={props.setCards} onCardClick={props.onCardClick} key={card._id} handleCardDelete={props.handleCardDelete} handleCardLike={props.handleCardLike}/>\r\n            )\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  const currentYear = new Date().getFullYear();\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>© {currentYear} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    (props.card !== null) && \r\n    <div className=\"popup imgPopup\">\r\n      <div className=\"popup__container popup__container_content-img\">\r\n        <img className=\"imgPopup__img\" src={props.card.link} alt={props.card.name} />\r\n        <p className=\"imgPopup__text\">{props.card.name}</p>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button button imgPopup__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    props.isOpen && (\r\n    <div className={`popup ${props.name}-popup`}>\r\n      <div className=\"popup__container popup__container_content-form\">\r\n      <form name={`${props.name}-form`} className={`form ${props.name}-form`} onSubmit={props.onSubmit}>\r\n        <h2 className=\"form__title\">{props.title}</h2>\r\n        {props.children}\r\n        <button\r\n          type=\"submit\"\r\n          className={`form__button-save ${props.name}-form__button-save`}\r\n          >\r\n          {props.submitButtonText}\r\n          </button>\r\n        <button\r\n          type=\"button\"\r\n          className={`popup__close-button button ${props.name}-form__close-button`}\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </form>\r\n      </div>\r\n    </div>)\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.jsx\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen]);\r\n\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function onSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateUser(name,description);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title='Редактировать профиль' name='profile-edit' isOpen={props.isOpen} onClose={props.onClose} submitButtonText='Сохранить' onSubmit={onSubmit}>\r\n            <div className=\"form__inputs\">\r\n                <input\r\n                    value={name || ''} \r\n                    id=\"name\"\r\n                    required\r\n                    minLength=\"2\"\r\n                    maxLength=\"40\"\r\n                    name=\"fild_name\"\r\n                    type=\"text\"\r\n                    placeholder=\"Название\"\r\n                    className=\"form__input profile-edit-form__input-fild-name\"\r\n                    onChange={handleChangeName}\r\n                />\r\n                <span id=\"name-error\" className=\"form__input-error\"></span>\r\n                <input\r\n                    value={description || ''} \r\n                    id=\"about\"\r\n                    required\r\n                    minLength=\"2\"\r\n                    maxLength=\"200\"\r\n                    name=\"fild_about\"\r\n                    type=\"text\"\r\n                    placeholder=\"Проффесия\"\r\n                    className=\"form__input profile-edit-form__input-fild-about\"\r\n                    onChange={handleChangeDescription}\r\n                />\r\n                <span id=\"about-error\" className=\"form__input-error\"></span>\r\n            </div>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.jsx\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef();\r\n\r\n    function onSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateAvatar(avatarRef.current.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title='Обновить аватар' name='profile-img-edit' isOpen={props.isOpen} onClose={props.onClose} submitButtonText='Сохранить' onSubmit={onSubmit}>\r\n            <div className=\"form__inputs\">\r\n                <input\r\n                    ref={avatarRef}\r\n                    id=\"avatar\"\r\n                    required\r\n                    name=\"fild_img\"\r\n                    type=\"url\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    className=\"form__input profile-img-edit-popup__input-fild-link\"\r\n                />\r\n                <span id=\"avatar-error\" className=\"form__input-error\"></span>\r\n            </div>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import { useState } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.jsx\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [fildPlace, setFildPlace] = useState('');\r\n    const [fildImg, setFildImg] = useState('');\r\n\r\n    function handleChangeFildPlace(e) {\r\n        setFildPlace(e.target.value);\r\n    }\r\n\r\n    function handleChangeFildImg(e) {\r\n        setFildImg(e.target.value);\r\n    }\r\n\r\n    function onSubmit(e){\r\n        e.preventDefault();\r\n        props.onAddCard(fildPlace, fildImg);\r\n    }\r\n    \r\n    return (\r\n        <PopupWithForm title='Новое место' name='add-place' isOpen={props.isOpen} onClose={props.onClose} submitButtonText='Сохранить' onSubmit={onSubmit}>\r\n        <div className=\"form__inputs\">\r\n          <input\r\n            value={fildPlace}\r\n            id=\"place\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            name=\"fild_place\"\r\n            type=\"text\"\r\n            placeholder=\"Название\"\r\n            className=\"form__input add-place-form__input-fild-text\"\r\n            onChange={handleChangeFildPlace}\r\n          />\r\n          <span id=\"place-error\" className=\"form__input-error\"></span>\r\n          <input\r\n            value={fildImg}\r\n            id=\"img\"\r\n            required\r\n            name=\"fild_img\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className=\"form__input add-place-form__input-fild-link\"\r\n            onChange={handleChangeFildImg}\r\n          />\r\n          <span id=\"img-error\" className=\"form__input-error\"></span>\r\n        </div>\r\n      </PopupWithForm>\r\n    );\r\n  }\r\n  \r\n  export default AddPlacePopup;","import { Redirect, Route } from 'react-router-dom';\r\nimport { IsLoginContext } from '../contexts/IsLoginContext';\r\nimport React from 'react';\r\n\r\n\r\n\r\nfunction ProtectedRoute(props) {\r\n\r\n  const isLoggedIn = React.useContext(IsLoginContext);\r\n\r\n  if (!isLoggedIn) {\r\n    return <Redirect to='/sign-in'></Redirect>\r\n  }\r\n\r\n  return (\r\n    <Route path={props.path}>\r\n      {props.commponent}\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;","function SingForm(props) {\r\n    const formName = props.formName;\r\n\r\n\r\n    return (\r\n        <form name={`${formName}-form`} className={`singForm ${formName}-form`} onSubmit={props.onSubmit}>\r\n            <h2 className=\"form__title\">{props.title}</h2>\r\n            {props.children}\r\n            <button\r\n                type=\"submit\"\r\n                className={`singForm__button-save  ${formName}-form__button-save`}\r\n            >\r\n                {props.submitButtonText}\r\n            </button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SingForm;\r\n","import SingForm from './SingForm';\r\nimport React, { useState } from 'react';\r\n\r\nfunction Login(props) {\r\n\r\n    const [mail, setMail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const formName = 'login';\r\n\r\n    function handleChangeMail(e) {\r\n        setMail(e.target.value);\r\n    }\r\n    function handleChangePassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function onSubmit(e) {\r\n        e.preventDefault();\r\n        props.onLogin(mail, password);\r\n    }\r\n\r\n    return (\r\n        <div className='singСonteiner'>\r\n            <SingForm title='Вход' onSubmit={onSubmit} submitButtonText='Войти' formName={formName}>\r\n                <div className=\"form__inputs\">\r\n                    <input\r\n                        value={mail || ''}\r\n                        id=\"name\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"40\"\r\n                        name=\"fild_name\"\r\n                        type=\"text\"\r\n                        placeholder=\"Email\"\r\n                        className=\"singForm__input profile-edit-form__input-fild-name\"\r\n                        onChange={handleChangeMail}\r\n                    />\r\n                    <span id=\"name-error\" className=\"form__input-error\"></span>\r\n                    <input\r\n                        value={password || ''}\r\n                        id=\"about\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                        name=\"fild_about\"\r\n                        type=\"text\"\r\n                        placeholder=\"Пароль\"\r\n                        className=\"singForm__input profile-edit-form__input-fild-about\"\r\n                        onChange={handleChangePassword}\r\n                    />\r\n                    <span id=\"about-error\" className=\"form__input-error\"></span>\r\n                </div>\r\n            </SingForm>\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default Login;\r\n\r\n","import good from \"../../src/images/GoodReg.png\";\r\nimport bad from \"../../src/images/BadReg.png\";\r\n\r\n\r\n\r\nfunction InfoTooltip(props) {\r\n    const answerStatus = true;\r\n    return (\r\n        props.isOpen &&\r\n        <div className=\"popup infoTooltipPopup\">\r\n            <div className=\"popup__container popup__container_content-infoTooltip\">\r\n                <img src={answerStatus ? good : bad} alt='dd' />\r\n                <p className='infoTooltipPopup__text'>{answerStatus ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</p>\r\n                <button\r\n                    type=\"button\"\r\n                    className={`popup__close-button button ${props.name}-form__close-button`}\r\n                    onClick={props.onClose}\r\n                ></button>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export default \"data:image/png;base64,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\"","import SingForm from './SingForm';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport React, { useState } from 'react';\r\n\r\n\r\nfunction Register(props) {\r\n\r\n    const [mail, setMail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const formName = 'register';\r\n\r\n    function handleChangeMail(e) {\r\n        setMail(e.target.value);\r\n    }\r\n    function handleChangePassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function onSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRegisration(mail, password);\r\n    }\r\n\r\n    return (\r\n        <div className='singСonteiner'>\r\n                <SingForm title='Регистрация' onSubmit={onSubmit} submitButtonText='Зарегистрироваться' formName={formName}>\r\n                <div className=\"form__inputs\">\r\n                    <input\r\n                        value={mail || ''} \r\n                        id=\"mail\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"40\"\r\n                        name=\"fild_name\"\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        className=\"singForm__input profile-edit-form__input-fild-name\"\r\n                        onChange={handleChangeMail}\r\n                    />\r\n                    <span id=\"mail-error\" className=\"form__input-error\"></span>\r\n                    <input\r\n                        value={password || ''} \r\n                        id=\"password\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                        name=\"fild_about\"\r\n                        type=\"text\"\r\n                        placeholder=\"Пароль\"\r\n                        className=\"singForm__input profile-edit-form__input-fild-about\"\r\n                        onChange={handleChangePassword}\r\n                    />\r\n                    <span id=\"password-error\" className=\"form__input-error\"></span>\r\n                </div>\r\n            </SingForm>\r\n            <p className='onSingIn__text'>Уже зарегистрированы? <a href='sign-in' className='onSingIn__link'>Войти</a></p>\r\n            <InfoTooltip isOpen={props.isOpen} onClose={props.onClose}/>\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default Register;","class Api {\r\n    constructor(baseUrl, token) {\r\n        this._baseUrl = baseUrl;\r\n        this._token = token;\r\n\r\n        this._headers = {\r\n            authorization: this._token,\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    getUser() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n            .then(user => {\r\n                return user\r\n            })\r\n    }\r\n\r\n    addCard(name, link) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n                method: 'POST',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    name: name,\r\n                    link: link,\r\n                })\r\n\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n                method: 'DELETE',\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    patchUserInfo(name, about) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n                method: 'PATCH',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    name: name,\r\n                    about: about,\r\n                })\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    patchUserImg(avatar) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n                method: 'PATCH',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    avatar: avatar,\r\n                })\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    putLike(id) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n                method: 'PUT',\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    deleteLike(id) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n                method: 'DELETE',\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    changeLikeCardStatus(id, like) {\r\n        if (like) {\r\n            return this.putLike(id)\r\n        } else {\r\n            return this.deleteLike(id)\r\n        }\r\n    }\r\n}\r\n\r\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-25', 'da22e24c-dd01-4958-b7cb-8f4974dde69d');\r\nexport default api;","class SingApi {\r\n    constructor(baseUrl, token) {\r\n        this._baseUrl = baseUrl;\r\n        this._token = token;\r\n\r\n        this._headers = {\r\n            'Content-Type': 'application/json',\r\n        }\r\n    }\r\n\r\n    signUp(mail, password) {\r\n        return fetch(`${this._baseUrl}/signup`, {\r\n                method: 'POST',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    password: password,\r\n                    email: mail\r\n                })\r\n            })\r\n            .then((res) => {\r\n                if (res.ok) return res.json();\r\n            })\r\n    }\r\n\r\n    signIn(mail, password) {\r\n        return fetch(`${this._baseUrl}/signin`, {\r\n                method: 'POST',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    password: password,\r\n                    email: mail\r\n                })\r\n            })\r\n            .then((res) => {\r\n                if (res.ok) return res.json();\r\n            })\r\n    }\r\n\r\n    check(jwt) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n                method: 'Get',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    \"Authorization\": `Bearer ${jwt}`,\r\n                },\r\n            })\r\n            .then((res) => {\r\n                return res.json();\r\n            })\r\n    }\r\n\r\n}\r\n\r\nconst singApi = new SingApi('https://auth.nomoreparties.co', 'da22e24c-dd01-4958-b7cb-8f4974dde69d');\r\nexport default singApi;","import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport \"../App.css\";\r\nimport Header from \"./Header.jsx\";\r\nimport Main from \"./Main.jsx\";\r\nimport Footer from \"./Footer.jsx\";\r\nimport ImagePopup from \"./ImagePopup.jsx\";\r\nimport PopupWithForm from \"./PopupWithForm.jsx\";\r\nimport EditProfilePopup from \"./EditProfilePopup.jsx\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup.jsx\";\r\nimport AddPlacePopup from \"./AddPlacePopup.jsx\";\r\nimport ProtectedRoute from \"./ProtectedRoute.jsx\";\r\nimport Login from \"./Login.jsx\";\r\nimport Register from \"./Register.jsx\";\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { IsLoginContext } from '../contexts/IsLoginContext';\r\n\r\nimport api from '../utils/api.js';\r\nimport singApi from '../utils/singApi.js';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const history = useHistory();\r\n\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isLoading, setisLoading] = useState(true);\r\n\r\n\r\n  const [currentUser, setСurrentUser] = useState({ name: \"\", about: \"\", avatar: \"\", _id: \"\", cohort: \"\" });\r\n\r\n  useEffect(() => {\r\n    api.getUser().then((res) => setСurrentUser(res)).catch(error => console.log(error))\r\n  }, []);\r\n\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\r\n\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsInfoTooltipOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser(name, description) {\r\n    api.patchUserInfo(name, description)\r\n      .then((res) => {\r\n        setСurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(error => console.log(error))\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    api.patchUserImg(avatar)\r\n      .then((res) => {\r\n        setСurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(error => console.log(error))\r\n  }\r\n\r\n  const [cards, setCards] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api.getCards().then(res => setCards(res)).catch(error => console.log(error));\r\n  }, []);\r\n\r\n  function handleCardDelete(card) {\r\n    const cardId = card._id;\r\n\r\n    api.deleteCard(cardId)\r\n      .then(() => {\r\n        setCards(cards.filter(card => card._id !== cardId))\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(name, link) {\r\n    api.addCard(name, link)\r\n      .then((res) => { setCards([res, ...cards]); closeAllPopups() })\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    }).catch(error => console.log(error));\r\n  };\r\n\r\n  function handleRegisration(mail, password) {\r\n    console.log(mail, password)\r\n    singApi.signUp(mail, password)\r\n      .then((res) => {\r\n        localStorage.setItem('jwt', res.data._id);\r\n        localStorage.setItem('email', res.data.email);\r\n        setIsLoggedIn(true);\r\n        setIsInfoTooltipOpen(true);\r\n      })\r\n      .catch(er => console.log(er))\r\n  }\r\n\r\n  function handleLogin(mail, password) {\r\n    console.log(mail, password)\r\n    singApi.signIn(mail, password)\r\n      .then((res) => {\r\n        localStorage.setItem('jwt', res.token);\r\n        localStorage.setItem('email', res.data.email);\r\n        setIsLoggedIn(true);\r\n        history.push('/')\r\n      })\r\n      .catch(er => console.log(er))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('jwt')) {\r\n      const jwt = localStorage.getItem('jwt');\r\n      singApi.check(jwt)\r\n        .then(() => {\r\n          setIsLoggedIn(true)\r\n        })\r\n        .catch(er => console.log(er))\r\n        .finally(() => { setisLoading(false) })\r\n      history.push('/')\r\n    } else {\r\n      setisLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  if (isLoading) { return <div>жди</div> }\r\n  else {\r\n    return (\r\n      <IsLoginContext.Provider value={isLoggedIn}>\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <div className=\"page\">\r\n            <div className=\"page__container\">\r\n              <Header setisLoggedIn={setIsLoggedIn} />\r\n\r\n              <Switch>\r\n                <Route path=\"/sign-up\">\r\n                  <Register isOpen={isInfoTooltipOpen} onClose={closeAllPopups} onRegisration={handleRegisration} />\r\n                </Route>\r\n                <Route path=\"/sign-in\">\r\n                  <Login onLogin={handleLogin} />\r\n                </Route>\r\n                <ProtectedRoute path=\"/\" commponent={<Main\r\n                  onEditProfile={handleEditProfileClick}\r\n                  onAddPlace={handleAddPlaceClick}\r\n                  onEditAvatar={handleEditAvatarClick}\r\n                  onCardClick={handleCardClick}\r\n                  handleCardDelete={handleCardDelete}\r\n                  handleCardLike={handleCardLike}\r\n                  setCards={setCards} cards={cards}\r\n                />}>\r\n                </ProtectedRoute>\r\n              </Switch>\r\n\r\n              <Footer />\r\n              <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n              <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n              <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddPlaceSubmit} />\r\n\r\n              <PopupWithForm title='Вы уверены?' name='delete-card' isOpen='' onClose={closeAllPopups} submitButtonText='Да' />\r\n\r\n              <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n            </div>\r\n          </div>\r\n        </CurrentUserContext.Provider >\r\n      </IsLoginContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App.jsx\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter  } from 'react-router-dom';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}